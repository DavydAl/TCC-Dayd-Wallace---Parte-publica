<div class="d-flex justify-content-between column p-2">
  <h4>Essa tela tem como finalidade efetuar a atualização de vários produtos ao mesmo tempo e só irão ser exibidos os
    campos que fora selecionados para sua exibição. <br> Toda a operação relaizada nesse ambiente não poderá ser
    disfeita.</h4>

</div>
<div class="d-flex mb-3 mt-3 justify-content-end">
  <button type="button" class="btn mt-3 btn-success fixed-width" (click)="salvar()">Salvar</button>
</div>
<div class="example-container mat-elevation-z8">
  <div class="table-container">
    <table mat-table [dataSource]="lstProduto">

      <ng-container matColumnDef="descricao">
        <th mat-header-cell *matHeaderCellDef>
          <a matTooltip="Clique aqui para replicar os valores da primeira coluna de Descrição para os demais produtos abaixo"
            (click)="updateColumnValues('descricao')">
            <span class="bi bi-files"></span>
          </a>
          Descrição
        </th>
        <td mat-cell *matCellDef="let item">
          <input class="form-control fixed-width" [(ngModel)]="item.descricao" type="text" required>
        </td>
      </ng-container>

      <ng-container *ngIf="menuManutencao.corId">
        <ng-container matColumnDef="corId">
          <th mat-header-cell *matHeaderCellDef>
            <a matTooltip="Clique aqui para replicar os valores da primeira coluna de Cor para os demais produtos abaixo"
              (click)="updateColumnValues('corId')">
              <span class="bi bi-files"></span>
            </a>
            Cor
          </th>
          <td mat-cell *matCellDef="let item">
            <select class="form-select fixed-width" [(ngModel)]="item.corId" required>
              <option value="{{generic.id}}" *ngFor="let generic of lstCor">{{generic.descricao}}</option>
            </select>
          </td>
        </ng-container>
      </ng-container>

      <ng-container *ngIf="menuManutencao.tamanhoId">
        <ng-container matColumnDef="tamanhoId">
          <th mat-header-cell *matHeaderCellDef>
            <a matTooltip="Clique aqui para replicar os valores da primeira coluna de Tamanho para os demais produtos abaixo"
              (click)="updateColumnValues('tamanhoId')">
              <span class="bi bi-files"></span>
            </a>
            Tamanho
          </th>
          <td mat-cell *matCellDef="let item">
            <select class="form-select fixed-width" [(ngModel)]="item.tamanhoId" required>
              <option value="{{generic.id}}" *ngFor="let generic of lstTamanho">{{generic.descricao}}</option>
            </select>
          </td>
        </ng-container>
      </ng-container>

      <ng-container *ngIf="menuManutencao.referencia">
        <ng-container matColumnDef="referencia">
          <th mat-header-cell *matHeaderCellDef>
            <a matTooltip="Clique aqui para replicar os valores da primeira coluna de Referência para os demais produtos abaixo"
              (click)="updateColumnValues('referencia')">
              <span class="bi bi-files"></span>
            </a>
            Referência
          </th>
          <td mat-cell *matCellDef="let item">
            <input class="form-control fixed-width" [(ngModel)]="item.referencia" type="text" required>
          </td>
        </ng-container>
      </ng-container>

      <ng-container *ngIf="menuManutencao.codigoAuxiliar">
        <ng-container matColumnDef="codigoAuxiliar">
          <th mat-header-cell *matHeaderCellDef>
            <a matTooltip="Clique aqui para replicar os valores da primeira coluna de Código Auxiliar para os demais produtos abaixo"
              (click)="updateColumnValues('codigoAuxiliar')">
              <span class="bi bi-files"></span>
            </a>
            Código Auxiliar
          </th>
          <td mat-cell *matCellDef="let item">
            <input class="form-control fixed-width" [(ngModel)]="item.codigoAuxiliar" type="text" required>
          </td>
        </ng-container>
      </ng-container>


      <ng-container *ngIf="menuManutencao.setorId">
        <ng-container matColumnDef="setorId">
          <th mat-header-cell *matHeaderCellDef>
            <a matTooltip="Clique aqui para replicar os valores da primeira coluna de Setor para os demais produtos abaixo"
              (click)="updateColumnValues('setorId')">
              <span class="bi bi-files"></span>
            </a>
            Setor
          </th>
          <td mat-cell *matCellDef="let item">
            <select class="form-select fixed-width" [(ngModel)]="item.setorId" required>
              <option value="{{generic.id}}" *ngFor="let generic of lstSetor">{{generic.descricao}}</option>
            </select>
          </td>
        </ng-container>
      </ng-container>

      <ng-container *ngIf="menuManutencao.linhaId">
        <ng-container matColumnDef="linhaId">
          <th mat-header-cell *matHeaderCellDef>
            <a matTooltip="Clique aqui para replicar os valores da primeira coluna de Linha para os demais produtos abaixo"
              (click)="updateColumnValues('linhaId')">
              <span class="bi bi-files"></span>
            </a>
            Linha
          </th>
          <td mat-cell *matCellDef="let item">
            <select class="form-select fixed-width" [(ngModel)]="item.linhaId" required>
              <option value="{{generic.id}}" *ngFor="let generic of lstLinha">{{generic.descricao}}</option>
            </select>
          </td>
        </ng-container>
      </ng-container>

      <ng-container *ngIf="menuManutencao.marcaId">
        <ng-container matColumnDef="marcaId">
          <th mat-header-cell *matHeaderCellDef>
            <a matTooltip="Clique aqui para replicar os valores da primeira coluna de Marca para os demais produtos abaixo"
              (click)="updateColumnValues('marcaId')">
              <span class="bi bi-files"></span>
            </a>
            Marca
          </th>
          <td mat-cell *matCellDef="let item">
            <select class="form-select fixed-width" [(ngModel)]="item.marcaId" required>
              <option value="{{generic.id}}" *ngFor="let generic of lstMarca">{{generic.descricao}}</option>
            </select>
          </td>
        </ng-container>
      </ng-container>

      <ng-container *ngIf="menuManutencao.colecaoId">
        <ng-container matColumnDef="colecaoId">
          <th mat-header-cell *matHeaderCellDef>
            <a matTooltip="Clique aqui para replicar os valores da primeira coluna de Coleção para os demais produtos abaixo"
              (click)="updateColumnValues('colecaoId')">
              <span class="bi bi-files"></span>
            </a>
            Coleção
          </th>
          <td mat-cell *matCellDef="let item">
            <select class="form-select fixed-width" [(ngModel)]="item.colecaoId" required>
              <option value="{{generic.id}}" *ngFor="let generic of lstColecao">{{generic.descricao}}</option>
            </select>
          </td>
        </ng-container>
      </ng-container>

      <ng-container *ngIf="menuManutencao.fornecedorId">
        <ng-container matColumnDef="fornecedorId">
          <th mat-header-cell *matHeaderCellDef>
            <a matTooltip="Clique aqui para replicar os valores da primeira coluna de Fornecedor para os demais produtos abaixo"
              (click)="updateColumnValues('fornecedorId')">
              <span class="bi bi-files"></span>
            </a>
            Fornecedor
          </th>
          <td mat-cell *matCellDef="let item">
            <select class="form-select fixed-width" [(ngModel)]="item.fornecedorId" required>
              <option value="{{generic.id}}" *ngFor="let generic of lstFornecedor">{{generic.nomeRazao}}</option>
            </select>
          </td>
        </ng-container>
      </ng-container>

      <ng-container *ngIf="menuManutencao.precoVenda">
        <ng-container matColumnDef="precoVenda">
          <th mat-header-cell *matHeaderCellDef>
            <a matTooltip="Clique aqui para replicar os valores da primeira coluna de Preço de Venda para os demais produtos abaixo"
              (click)="updateColumnValues('precoVenda')">
              <span class="bi bi-files"></span>
            </a>
            Preço de Venda
          </th>
          <td mat-cell *matCellDef="let item">
            <input required step="0.01" min="0.01" placeholder="00,00" class="form-control fixed-width"
              [(ngModel)]="item.precoVenda" type="number" min="0" required>
          </td>
        </ng-container>
      </ng-container>

      <ng-container *ngIf="menuManutencao.precoCusto">
        <ng-container matColumnDef="precoCusto">
          <th mat-header-cell *matHeaderCellDef>
            <a matTooltip="Clique aqui para replicar os valores da primeira coluna de Preço de Custo para os demais produtos abaixo"
              (click)="updateColumnValues('precoCusto')">
              <span class="bi bi-files"></span>
            </a>
            Preço de Custo
          </th>
          <td mat-cell *matCellDef="let item">
            <input required step="0.01" min="0.01" placeholder="00,00" class="form-control fixed-width"
              [(ngModel)]="item.precoCusto" type="number" min="0" required>
          </td>
        </ng-container>
      </ng-container>

      <ng-container *ngIf="menuManutencao.quantidade">
        <ng-container matColumnDef="quantidade">
          <th mat-header-cell *matHeaderCellDef>
            <a matTooltip="Clique aqui para replicar os valores da primeira coluna de Quantidade em estoque para os demais produtos abaixo"
              (click)="updateColumnValues('quantidade')">
              <span class="bi bi-files"></span>
            </a>
            Qtd Estoque
          </th>
          <td mat-cell *matCellDef="let item">
            <input class="form-control fixed-width" [(ngModel)]="item.quantidade" type="number" min="0" required>
          </td>
        </ng-container>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">
          <h1 class="erro-filtro">Não foram localizados dados no filtro passado. <br> Faça um novo filtro, ou tente
            novamente.</h1>
        </td>
      </tr>
    </table>

    <mat-paginator *ngIf="dataSource?.data?.length" [length]="dataSource.data.length" [pageSize]="25"
      [pageSizeOptions]="[25, 50, 75, 100]"></mat-paginator>
  </div>
</div>

<div class="d-flex justify-content-end">
  <button type="button" class="btn mt-3 btn-success fixed-width" (click)="salvar()">Salvar</button>
</div>